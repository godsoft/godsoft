<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//iBATIS.com//DTD SQL Map 2.0//EN" "http://www.ibatis.com/dtd/sql-map-2.dtd">

<sqlMap namespace="Comtnntwrkinfo">
	
	<typeAlias  alias="egovMap" type="egovframework.rte.psl.dataaccess.util.EgovMap"/>
	<typeAlias  alias="ComtnntwrkinfoVO" type="kr.godsoft.egovframe.generatorwebapp.comtnntwrkinfo.service.ComtnntwrkinfoVO"/>
	
	<resultMap id="comtnntwrkinfo" class="kr.godsoft.egovframe.generatorwebapp.comtnntwrkinfo.service.ComtnntwrkinfoVO">
		<result property="ntwrkId" column="ntwrk_id" columnIndex="1"/>
		<result property="ntwrkIp" column="ntwrk_ip" columnIndex="2"/>
		<result property="gtwy" column="gtwy" columnIndex="3"/>
		<result property="subnet" column="subnet" columnIndex="4"/>
		<result property="domnNmServer" column="domn_nm_server" columnIndex="5"/>
		<result property="manageIem" column="manage_iem" columnIndex="6"/>
		<result property="userNm" column="user_nm" columnIndex="7"/>
		<result property="useAt" column="use_at" columnIndex="8"/>
		<result property="rgsde" column="rgsde" columnIndex="9"/>
		<result property="frstRegisterId" column="frst_register_id" columnIndex="10"/>
		<result property="frstRegistPnttm" column="frst_regist_pnttm" columnIndex="11"/>
		<result property="lastUpdusrId" column="last_updusr_id" columnIndex="12"/>
		<result property="lastUpdtPnttm" column="last_updt_pnttm" columnIndex="13"/>
	</resultMap>
	
	<insert id="comtnntwrkinfoDAO.insertComtnntwrkinfo_S">
		<![CDATA[
            INSERT INTO comtnntwrkinfo (
                ntwrk_id
                , ntwrk_ip
                , gtwy
                , subnet
                , domn_nm_server
                , manage_iem
                , user_nm
                , use_at
                , rgsde
                , frst_register_id
                , frst_regist_pnttm
            ) VALUES (
                #ntwrkId#
                , #ntwrkIp#
                , #gtwy#
                , #subnet#
                , #domnNmServer#
                , #manageIem#
                , #userNm#
                , #useAt#
                , #rgsde#
                , #frstRegisterId#
                , SYSDATE
            )
		]]>
	</insert>
	
	<update id="comtnntwrkinfoDAO.updateComtnntwrkinfo_S">
		<![CDATA[
            UPDATE comtnntwrkinfo
                SET
                ntwrk_id = #ntwrkId#
                , ntwrk_ip = #ntwrkIp#
                , gtwy = #gtwy#
                , subnet = #subnet#
                , domn_nm_server = #domnNmServer#
                , manage_iem = #manageIem#
                , user_nm = #userNm#
                , use_at = #useAt#
                , rgsde = #rgsde#
                , last_updusr_id = #lastUpdusrId#
                , last_updt_pnttm = SYSDATE
                WHERE 1 = 1
                AND ntwrk_id = #ntwrkId#
		]]>
	</update>
	
	<delete id="comtnntwrkinfoDAO.deleteComtnntwrkinfo_S">
		<![CDATA[
			DELETE FROM comtnntwrkinfo
				WHERE 1 = 1
				AND ntwrk_id = #ntwrkId#
		]]>
	</delete>
	
	<select id="comtnntwrkinfoDAO.selectComtnntwrkinfo_S" resultMap="comtnntwrkinfo">
		<![CDATA[
			SELECT
				ntwrk_id
				, ntwrk_ip
				, gtwy
				, subnet
				, domn_nm_server
				, manage_iem
				, user_nm
				, use_at
				, rgsde
				, frst_register_id
				, frst_regist_pnttm
				, last_updusr_id
				, last_updt_pnttm
			FROM COMTNNTWRKINFO
			WHERE ntwrk_id = #ntwrkId#
		]]>
	</select>
	
	<select id="comtnntwrkinfoDAO.selectComtnntwrkinfoList_D" parameterClass="ComtnntwrkinfoVO" resultClass="egovMap">
	       SELECT 
								A.NTWRK_ID
								, A.NTWRK_IP
								, A.GTWY
								, A.SUBNET
								, A.DOMN_NM_SERVER
								, A.MANAGE_IEM
								, A.USER_NM
								, A.USE_AT
								, A.RGSDE
								, A.FRST_REGISTER_ID
								, A.FRST_REGIST_PNTTM
								, A.LAST_UPDUSR_ID
								, A.LAST_UPDT_PNTTM
			       FROM
            (
				SELECT
								NTWRK_ID
								, NTWRK_IP
								, GTWY
								, SUBNET
								, DOMN_NM_SERVER
								, MANAGE_IEM
								, USER_NM
								, USE_AT
								, RGSDE
								, FRST_REGISTER_ID
								, FRST_REGIST_PNTTM
								, LAST_UPDUSR_ID
								, LAST_UPDT_PNTTM
							, ROWNUM
				FROM COMTNNTWRKINFO
				WHERE 1=1
				<isEqual prepend="AND" property="searchCondition" compareValue="0">
					NTWRK_ID = #searchKeyword#
				</isEqual>
					<isEqual prepend="AND" property="searchCondition" compareValue="1">
					NTWRK_IP LIKE '%' || #searchKeyword# || '%'
				</isEqual>
						ORDER BY 
							NTWRK_ID DESC
					) A
			WHERE ROWNUM BETWEEN #firstIndex# AND #recordCountPerPage#
	</select>

	<select id="comtnntwrkinfoDAO.selectComtnntwrkinfoListTotCnt_S" parameterClass="ComtnntwrkinfoVO" resultClass="int">
			SELECT COUNT(*) totcnt
			FROM COMTNNTWRKINFO
			WHERE 1=1
			<isEqual prepend="AND" property="searchCondition" compareValue="0">
				NTWRK_ID = #searchKeyword#
			</isEqual>
				<isEqual prepend="AND" property="searchCondition" compareValue="1">
				NTWRK_IP LIKE '%' || #searchKeyword# || '%'
			</isEqual>
		</select>

</sqlMap>
