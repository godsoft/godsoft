<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//iBATIS.com//DTD SQL Map 2.0//EN" "http://www.ibatis.com/dtd/sql-map-2.dtd">

<!--
author 이백행
since 2013-01-13
-->

<sqlMap namespace="Comtnuserlog">

    <typeAlias alias="egovMap" type="egovframework.rte.psl.dataaccess.util.EgovMap"/>
    <typeAlias alias="comtnuserlogSerarchVO" type="egovframework.codegen.comtnuserlog.service.ComtnuserlogDefaultVO"/>

    <resultMap id="comtnuserlog" class="egovframework.codegen.comtnuserlog.service.ComtnuserlogVO">
        <result property="occrrncDe" column="occrrnc_de" columnIndex="1"/>
        <result property="rqesterId" column="rqester_id" columnIndex="2"/>
        <result property="svcNm" column="svc_nm" columnIndex="3"/>
        <result property="methodNm" column="method_nm" columnIndex="4"/>
        <result property="creatCo" column="creat_co" columnIndex="5"/>
        <result property="updtCo" column="updt_co" columnIndex="6"/>
        <result property="rdcnt" column="rdcnt" columnIndex="7"/>
        <result property="deleteCo" column="delete_co" columnIndex="8"/>
        <result property="outptCo" column="outpt_co" columnIndex="9"/>
        <result property="errorCo" column="error_co" columnIndex="10"/>
    </resultMap>

    <insert id="comtnuserlogDAO.insertComtnuserlog_S">
        <![CDATA[
            INSERT INTO comtnuserlog
                ( occrrnc_de
                  , rqester_id
                  , svc_nm
                  , method_nm
                  , creat_co
                  , updt_co
                  , rdcnt
                  , delete_co
                  , outpt_co
                  , error_co )
            VALUES ( #occrrncDe#
                  , #rqesterId#
                  , #svcNm#
                  , #methodNm#
                  , #creatCo#
                  , #updtCo#
                  , #rdcnt#
                  , #deleteCo#
                  , #outptCo#
                  , #errorCo# )
        ]]>
    </insert>

    <update id="comtnuserlogDAO.updateComtnuserlog_S">
        <![CDATA[
            UPDATE comtnuserlog
            SET occrrnc_de = #occrrncDe#
                , rqester_id = #rqesterId#
                , svc_nm = #svcNm#
                , method_nm = #methodNm#
                , creat_co = #creatCo#
                , updt_co = #updtCo#
                , rdcnt = #rdcnt#
                , delete_co = #deleteCo#
                , outpt_co = #outptCo#
                , error_co = #errorCo#
            WHERE occrrnc_de = #occrrncDe#
                AND rqester_id = #rqesterId#
                AND svc_nm = #svcNm#
                AND method_nm = #methodNm#
        ]]>
    </update>

    <delete id="comtnuserlogDAO.deleteComtnuserlog_S">
        <![CDATA[
            DELETE FROM comtnuserlog
            WHERE occrrnc_de = #occrrncDe#
                AND rqester_id = #rqesterId#
                AND svc_nm = #svcNm#
                AND method_nm = #methodNm#
        ]]>
    </delete>

    <select id="comtnuserlogDAO.selectComtnuserlog_S" resultMap="comtnuserlog">
        <![CDATA[
            SELECT
                occrrnc_de
                , rqester_id /* ${attribute.columnComments} */
                , svc_nm /* ${attribute.columnComments} */
                , method_nm /* ${attribute.columnComments} */
                , creat_co /* ${attribute.columnComments} */
                , updt_co /* ${attribute.columnComments} */
                , rdcnt /* ${attribute.columnComments} */
                , delete_co /* ${attribute.columnComments} */
                , outpt_co /* ${attribute.columnComments} */
                , error_co /* ${attribute.columnComments} */
            FROM comtnuserlog
            WHERE occrrnc_de = #occrrncDe#
                AND rqester_id = #rqesterId#
                AND svc_nm = #svcNm#
                AND method_nm = #methodNm#
        ]]>
    </select>

    <select id="comtnuserlogDAO.selectComtnuserlogList_D" parameterClass="comtnuserlogSerarchVO" resultClass="egovMap">
           SELECT
               A.occrrnc_de
               , A.rqester_id
               , A.svc_nm
               , A.method_nm
               , A.creat_co
               , A.updt_co
               , A.rdcnt
               , A.delete_co
               , A.outpt_co
               , A.error_co
           FROM (
               SELECT
                   occrrnc_de
                   , rqester_id
                   , svc_nm
                   , method_nm
                   , creat_co
                   , updt_co
                   , rdcnt
                   , delete_co
                   , outpt_co
                   , error_co
                   , ROWNUM
               FROM comtnuserlog
               WHERE 1 = 1
               ORDER BY
                occrrnc_de DESC
                , rqester_id DESC
                , svc_nm DESC
                , method_nm DESC
            ) A
            WHERE ROWNUM BETWEEN #firstIndex# AND #recordCountPerPage#
    </select>

    <select id="comtnuserlogDAO.selectComtnuserlogListTotCnt_S" parameterClass="comtnuserlogSerarchVO" resultClass="int">
        SELECT COUNT(*) totcnt
        FROM comtnuserlog
        WHERE 1 = 1
    </select>

</sqlMap>
