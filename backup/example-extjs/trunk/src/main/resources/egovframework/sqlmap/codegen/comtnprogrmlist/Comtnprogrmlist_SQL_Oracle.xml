<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//iBATIS.com//DTD SQL Map 2.0//EN" "http://www.ibatis.com/dtd/sql-map-2.dtd">

<!--
author 이백행
since 2013-01-13
-->

<sqlMap namespace="Comtnprogrmlist">

    <typeAlias alias="egovMap" type="egovframework.rte.psl.dataaccess.util.EgovMap"/>
    <typeAlias alias="comtnprogrmlistSerarchVO" type="egovframework.codegen.comtnprogrmlist.service.ComtnprogrmlistDefaultVO"/>

    <resultMap id="comtnprogrmlist" class="egovframework.codegen.comtnprogrmlist.service.ComtnprogrmlistVO">
        <result property="progrmFileNm" column="progrm_file_nm" columnIndex="1"/>
        <result property="progrmStrePath" column="progrm_stre_path" columnIndex="2"/>
        <result property="progrmKoreanNm" column="progrm_korean_nm" columnIndex="3"/>
        <result property="progrmDc" column="progrm_dc" columnIndex="4"/>
        <result property="url" column="url" columnIndex="5"/>
    </resultMap>

    <insert id="comtnprogrmlistDAO.insertComtnprogrmlist_S">
        <![CDATA[
            INSERT INTO comtnprogrmlist
                ( progrm_file_nm
                  , progrm_stre_path
                  , progrm_korean_nm
                  , progrm_dc
                  , url )
            VALUES ( #progrmFileNm#
                  , #progrmStrePath#
                  , #progrmKoreanNm#
                  , #progrmDc#
                  , #url# )
        ]]>
    </insert>

    <update id="comtnprogrmlistDAO.updateComtnprogrmlist_S">
        <![CDATA[
            UPDATE comtnprogrmlist
            SET progrm_file_nm = #progrmFileNm#
                , progrm_stre_path = #progrmStrePath#
                , progrm_korean_nm = #progrmKoreanNm#
                , progrm_dc = #progrmDc#
                , url = #url#
            WHERE progrm_file_nm = #progrmFileNm#
        ]]>
    </update>

    <delete id="comtnprogrmlistDAO.deleteComtnprogrmlist_S">
        <![CDATA[
            DELETE FROM comtnprogrmlist
            WHERE progrm_file_nm = #progrmFileNm#
        ]]>
    </delete>

    <select id="comtnprogrmlistDAO.selectComtnprogrmlist_S" resultMap="comtnprogrmlist">
        <![CDATA[
            SELECT
                progrm_file_nm
                , progrm_stre_path /* ${attribute.columnComments} */
                , progrm_korean_nm /* ${attribute.columnComments} */
                , progrm_dc /* ${attribute.columnComments} */
                , url /* ${attribute.columnComments} */
            FROM comtnprogrmlist
            WHERE progrm_file_nm = #progrmFileNm#
        ]]>
    </select>

    <select id="comtnprogrmlistDAO.selectComtnprogrmlistList_D" parameterClass="comtnprogrmlistSerarchVO" resultClass="egovMap">
           SELECT
               A.progrm_file_nm
               , A.progrm_stre_path
               , A.progrm_korean_nm
               , A.progrm_dc
               , A.url
           FROM (
               SELECT
                   progrm_file_nm
                   , progrm_stre_path
                   , progrm_korean_nm
                   , progrm_dc
                   , url
                   , ROWNUM
               FROM comtnprogrmlist
               WHERE 1 = 1
               ORDER BY
                progrm_file_nm DESC
            ) A
            WHERE ROWNUM BETWEEN #firstIndex# AND #recordCountPerPage#
    </select>

    <select id="comtnprogrmlistDAO.selectComtnprogrmlistListTotCnt_S" parameterClass="comtnprogrmlistSerarchVO" resultClass="int">
        SELECT COUNT(*) totcnt
        FROM comtnprogrmlist
        WHERE 1 = 1
    </select>

</sqlMap>
