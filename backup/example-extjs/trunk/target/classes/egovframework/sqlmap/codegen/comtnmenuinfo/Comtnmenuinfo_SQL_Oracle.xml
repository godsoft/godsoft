<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//iBATIS.com//DTD SQL Map 2.0//EN" "http://www.ibatis.com/dtd/sql-map-2.dtd">

<!--
author 이백행
since 2013-01-13
-->

<sqlMap namespace="Comtnmenuinfo">

    <typeAlias alias="egovMap" type="egovframework.rte.psl.dataaccess.util.EgovMap"/>
    <typeAlias alias="comtnmenuinfoSerarchVO" type="egovframework.codegen.comtnmenuinfo.service.ComtnmenuinfoDefaultVO"/>

    <resultMap id="comtnmenuinfo" class="egovframework.codegen.comtnmenuinfo.service.ComtnmenuinfoVO">
        <result property="menuNm" column="menu_nm" columnIndex="1"/>
        <result property="progrmFileNm" column="progrm_file_nm" columnIndex="2"/>
        <result property="menuNo" column="menu_no" columnIndex="3"/>
        <result property="upperMenuNo" column="upper_menu_no" columnIndex="4"/>
        <result property="menuOrdr" column="menu_ordr" columnIndex="5"/>
        <result property="menuDc" column="menu_dc" columnIndex="6"/>
        <result property="relateImagePath" column="relate_image_path" columnIndex="7"/>
        <result property="relateImageNm" column="relate_image_nm" columnIndex="8"/>
    </resultMap>

    <insert id="comtnmenuinfoDAO.insertComtnmenuinfo_S">
        <![CDATA[
            INSERT INTO comtnmenuinfo
                ( menu_nm
                  , progrm_file_nm
                  , menu_no
                  , upper_menu_no
                  , menu_ordr
                  , menu_dc
                  , relate_image_path
                  , relate_image_nm )
            VALUES ( #menuNm#
                  , #progrmFileNm#
                  , #menuNo#
                  , #upperMenuNo#
                  , #menuOrdr#
                  , #menuDc#
                  , #relateImagePath#
                  , #relateImageNm# )
        ]]>
    </insert>

    <update id="comtnmenuinfoDAO.updateComtnmenuinfo_S">
        <![CDATA[
            UPDATE comtnmenuinfo
            SET menu_nm = #menuNm#
                , progrm_file_nm = #progrmFileNm#
                , menu_no = #menuNo#
                , upper_menu_no = #upperMenuNo#
                , menu_ordr = #menuOrdr#
                , menu_dc = #menuDc#
                , relate_image_path = #relateImagePath#
                , relate_image_nm = #relateImageNm#
            WHERE menu_no = #menuNo#
        ]]>
    </update>

    <delete id="comtnmenuinfoDAO.deleteComtnmenuinfo_S">
        <![CDATA[
            DELETE FROM comtnmenuinfo
            WHERE menu_no = #menuNo#
        ]]>
    </delete>

    <select id="comtnmenuinfoDAO.selectComtnmenuinfo_S" resultMap="comtnmenuinfo">
        <![CDATA[
            SELECT
                menu_nm
                , progrm_file_nm /* ${attribute.columnComments} */
                , menu_no /* ${attribute.columnComments} */
                , upper_menu_no /* ${attribute.columnComments} */
                , menu_ordr /* ${attribute.columnComments} */
                , menu_dc /* ${attribute.columnComments} */
                , relate_image_path /* ${attribute.columnComments} */
                , relate_image_nm /* ${attribute.columnComments} */
            FROM comtnmenuinfo
            WHERE menu_no = #menuNo#
        ]]>
    </select>

    <select id="comtnmenuinfoDAO.selectComtnmenuinfoList_D" parameterClass="comtnmenuinfoSerarchVO" resultClass="egovMap">
           SELECT
               A.menu_nm
               , A.progrm_file_nm
               , A.menu_no
               , A.upper_menu_no
               , A.menu_ordr
               , A.menu_dc
               , A.relate_image_path
               , A.relate_image_nm
           FROM (
               SELECT
                   menu_nm
                   , progrm_file_nm
                   , menu_no
                   , upper_menu_no
                   , menu_ordr
                   , menu_dc
                   , relate_image_path
                   , relate_image_nm
                   , ROWNUM
               FROM comtnmenuinfo
               WHERE 1 = 1
               ORDER BY
                menu_no DESC
            ) A
            WHERE ROWNUM BETWEEN #firstIndex# AND #recordCountPerPage#
    </select>

    <select id="comtnmenuinfoDAO.selectComtnmenuinfoListTotCnt_S" parameterClass="comtnmenuinfoSerarchVO" resultClass="int">
        SELECT COUNT(*) totcnt
        FROM comtnmenuinfo
        WHERE 1 = 1
    </select>

</sqlMap>
