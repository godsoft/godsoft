<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//iBATIS.com//DTD SQL Map 2.0//EN" "http://www.ibatis.com/dtd/sql-map-2.dtd">

<!--
author 이백행
since 2013-01-09
-->

<sqlMap namespace="Comtnroleinfo">

    <typeAlias alias="egovMap" type="egovframework.rte.psl.dataaccess.util.EgovMap"/>
    <typeAlias alias="comtnroleinfoSerarchVO" type="egovframework.codegen.comtnroleinfo.service.ComtnroleinfoDefaultVO"/>

    <resultMap id="comtnroleinfo" class="egovframework.codegen.comtnroleinfo.service.ComtnroleinfoVO">
        <result property="roleCode" column="role_code" columnIndex="1"/>
        <result property="roleNm" column="role_nm" columnIndex="2"/>
        <result property="rolePttrn" column="role_pttrn" columnIndex="3"/>
        <result property="roleDc" column="role_dc" columnIndex="4"/>
        <result property="roleTy" column="role_ty" columnIndex="5"/>
        <result property="roleSort" column="role_sort" columnIndex="6"/>
        <result property="roleCreatDe" column="role_creat_de" columnIndex="7"/>
    </resultMap>

    <insert id="comtnroleinfoDAO.insertComtnroleinfo_S">
        <![CDATA[
            INSERT INTO comtnroleinfo
                ( role_code
                  , role_nm
                  , role_pttrn
                  , role_dc
                  , role_ty
                  , role_sort
                  , role_creat_de )
            VALUES ( #roleCode#
                  , #roleNm#
                  , #rolePttrn#
                  , #roleDc#
                  , #roleTy#
                  , #roleSort#
                  , #roleCreatDe# )
        ]]>
    </insert>

    <update id="comtnroleinfoDAO.updateComtnroleinfo_S">
        <![CDATA[
            UPDATE comtnroleinfo
            SET role_code = #roleCode#
                , role_nm = #roleNm#
                , role_pttrn = #rolePttrn#
                , role_dc = #roleDc#
                , role_ty = #roleTy#
                , role_sort = #roleSort#
                , role_creat_de = #roleCreatDe#
            WHERE role_code = #roleCode#
        ]]>
    </update>

    <delete id="comtnroleinfoDAO.deleteComtnroleinfo_S">
        <![CDATA[
            DELETE FROM comtnroleinfo
            WHERE role_code = #roleCode#
        ]]>
    </delete>

    <select id="comtnroleinfoDAO.selectComtnroleinfo_S" resultMap="comtnroleinfo">
        <![CDATA[
            SELECT
                role_code
                , role_nm /* ${attribute.columnComments} */
                , role_pttrn /* ${attribute.columnComments} */
                , role_dc /* ${attribute.columnComments} */
                , role_ty /* ${attribute.columnComments} */
                , role_sort /* ${attribute.columnComments} */
                , role_creat_de /* ${attribute.columnComments} */
            FROM comtnroleinfo
            WHERE role_code = #roleCode#
        ]]>
    </select>

    <select id="comtnroleinfoDAO.selectComtnroleinfoList_D" parameterClass="comtnroleinfoSerarchVO" resultClass="egovMap">
           SELECT
               A.role_code
               , A.role_nm
               , A.role_pttrn
               , A.role_dc
               , A.role_ty
               , A.role_sort
               , A.role_creat_de
           FROM (
               SELECT
                   role_code
                   , role_nm
                   , role_pttrn
                   , role_dc
                   , role_ty
                   , role_sort
                   , role_creat_de
                   , ROWNUM
               FROM comtnroleinfo
               WHERE 1 = 1
               ORDER BY
                role_code DESC
            ) A
            WHERE ROWNUM BETWEEN #firstIndex# AND #recordCountPerPage#
    </select>

    <select id="comtnroleinfoDAO.selectComtnroleinfoListTotCnt_S" parameterClass="comtnroleinfoSerarchVO" resultClass="int">
        SELECT COUNT(*) totcnt
        FROM comtnroleinfo
        WHERE 1 = 1
    </select>

</sqlMap>
