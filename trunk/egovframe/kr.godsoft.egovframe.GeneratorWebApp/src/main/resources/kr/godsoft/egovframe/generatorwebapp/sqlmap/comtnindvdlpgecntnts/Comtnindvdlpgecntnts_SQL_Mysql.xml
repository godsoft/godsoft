<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//iBATIS.com//DTD SQL Map 2.0//EN" "http://www.ibatis.com/dtd/sql-map-2.dtd">

<sqlMap namespace="Comtnindvdlpgecntnts">
	
	<typeAlias  alias="egovMap" type="egovframework.rte.psl.dataaccess.util.EgovMap"/>
	<typeAlias  alias="ComtnindvdlpgecntntsVO" type="kr.godsoft.egovframe.generatorwebapp.comtnindvdlpgecntnts.service.ComtnindvdlpgecntntsVO"/>
	
	<resultMap id="comtnindvdlpgecntnts" class="kr.godsoft.egovframe.generatorwebapp.comtnindvdlpgecntnts.service.ComtnindvdlpgecntntsVO">
		<result property="cntntsId" column="cntnts_id" columnIndex="1"/>
		<result property="cntntsNm" column="cntnts_nm" columnIndex="2"/>
		<result property="cntcUrl" column="cntc_url" columnIndex="3"/>
		<result property="cntntsUseAt" column="cntnts_use_at" columnIndex="4"/>
		<result property="cntntsLinkUrl" column="cntnts_link_url" columnIndex="5"/>
		<result property="cntntsDc" column="cntnts_dc" columnIndex="6"/>
	</resultMap>
	
	<insert id="comtnindvdlpgecntntsDAO.insertComtnindvdlpgecntnts_S">
		<![CDATA[
            INSERT INTO comtnindvdlpgecntnts (
                cntnts_id
                , cntnts_nm
                , cntc_url
                , cntnts_use_at
                , cntnts_link_url
                , cntnts_dc
            ) VALUES (
                #cntntsId#
                , #cntntsNm#
                , #cntcUrl#
                , #cntntsUseAt#
                , #cntntsLinkUrl#
                , #cntntsDc#
            )
		]]>
	</insert>
	
	<update id="comtnindvdlpgecntntsDAO.updateComtnindvdlpgecntnts_S">
		<![CDATA[
            UPDATE comtnindvdlpgecntnts
                SET
                cntnts_id = #cntntsId#
                , cntnts_nm = #cntntsNm#
                , cntc_url = #cntcUrl#
                , cntnts_use_at = #cntntsUseAt#
                , cntnts_link_url = #cntntsLinkUrl#
                , cntnts_dc = #cntntsDc#
                WHERE 1 = 1
                AND cntnts_id = #cntntsId#
		]]>
	</update>
	
	<delete id="comtnindvdlpgecntntsDAO.deleteComtnindvdlpgecntnts_S">
		<![CDATA[
			DELETE FROM comtnindvdlpgecntnts
				WHERE 1 = 1
				AND cntnts_id = #cntntsId#
		]]>
	</delete>
	
	<select id="comtnindvdlpgecntntsDAO.selectComtnindvdlpgecntnts_S" resultMap="comtnindvdlpgecntnts">
		<![CDATA[
			SELECT
				cntnts_id
				, cntnts_nm
				, cntc_url
				, cntnts_use_at
				, cntnts_link_url
				, cntnts_dc
			FROM comtnindvdlpgecntnts
			WHERE cntnts_id = #cntntsId#
		]]>
	</select>
	
	<select id="comtnindvdlpgecntntsDAO.selectComtnindvdlpgecntntsList_D" parameterClass="ComtnindvdlpgecntntsVO" resultClass="egovMap">
			SELECT
								cntnts_id
								, cntnts_nm
								, cntc_url
								, cntnts_use_at
								, cntnts_link_url
								, cntnts_dc
					FROM comtnindvdlpgecntnts
			WHERE 1=1
			<isEqual prepend="AND" property="searchCondition" compareValue="0">
				cntnts_id = #searchKeyword#
			</isEqual>
			<isEqual prepend="AND" property="searchCondition" compareValue="1">
				cntnts_nm LIKE CONCAT('%',#searchKeyword#,'%')
			</isEqual>
				ORDER BY 
							cntnts_id DESC
					limit #firstIndex#, #recordCountPerPage#	
	</select>

	<select id="comtnindvdlpgecntntsDAO.selectComtnindvdlpgecntntsListTotCnt_S" parameterClass="ComtnindvdlpgecntntsVO" resultClass="int">
			SELECT COUNT(*) totcnt
			FROM comtnindvdlpgecntnts
			WHERE 1=1
			<isEqual prepend="AND" property="searchCondition" compareValue="0">
				cntnts_id = #searchKeyword#
			</isEqual>
			<isEqual prepend="AND" property="searchCondition" compareValue="1">
				cntnts_nm LIKE CONCAT('%',#searchKeyword#,'%')
			</isEqual>
	</select>

</sqlMap>
