<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//iBATIS.com//DTD SQL Map 2.0//EN" "http://www.ibatis.com/dtd/sql-map-2.dtd">

<sqlMap namespace="Comtnntwrkinfo">
	
	<typeAlias  alias="egovMap" type="egovframework.rte.psl.dataaccess.util.EgovMap"/>
	<typeAlias  alias="ComtnntwrkinfoVO" type="kr.godsoft.egovframe.generatorwebapp.comtnntwrkinfo.service.ComtnntwrkinfoVO"/>
	
	<resultMap id="comtnntwrkinfo" class="kr.godsoft.egovframe.generatorwebapp.comtnntwrkinfo.service.ComtnntwrkinfoVO">
		<result property="ntwrkId" column="ntwrk_id" columnIndex="1"/>
		<result property="ntwrkIp" column="ntwrk_ip" columnIndex="2"/>
		<result property="gtwy" column="gtwy" columnIndex="3"/>
		<result property="subnet" column="subnet" columnIndex="4"/>
		<result property="domnNmServer" column="domn_nm_server" columnIndex="5"/>
		<result property="manageIem" column="manage_iem" columnIndex="6"/>
		<result property="userNm" column="user_nm" columnIndex="7"/>
		<result property="useAt" column="use_at" columnIndex="8"/>
		<result property="rgsde" column="rgsde" columnIndex="9"/>
		<result property="frstRegisterId" column="frst_register_id" columnIndex="10"/>
		<result property="frstRegistPnttm" column="frst_regist_pnttm" columnIndex="11"/>
		<result property="lastUpdusrId" column="last_updusr_id" columnIndex="12"/>
		<result property="lastUpdtPnttm" column="last_updt_pnttm" columnIndex="13"/>
	</resultMap>
	
	<insert id="comtnntwrkinfoDAO.insertComtnntwrkinfo_S">
		<![CDATA[
			INSERT INTO comtnntwrkinfo 
				( NTWRK_ID
				  , ntwrk_ip
				  , gtwy
				  , subnet
				  , domn_nm_server
				  , manage_iem
				  , user_nm
				  , use_at
				  , rgsde
				  , frst_register_id
				  , frst_regist_pnttm
				  , last_updusr_id
				  , last_updt_pnttm )
			VALUES ( #ntwrkId#
				  , #ntwrkIp#
				  , #gtwy#
				  , #subnet#
				  , #domnNmServer#
				  , #manageIem#
				  , #userNm#
				  , #useAt#
				  , #rgsde#
				  , #frstRegisterId#
				  , #frstRegistPnttm#
				  , #lastUpdusrId#
				  , #lastUpdtPnttm# )
		]]>
	</insert>
	
	<update id="comtnntwrkinfoDAO.updateComtnntwrkinfo_S">
		<![CDATA[
			UPDATE comtnntwrkinfo
			SET ntwrk_id = #ntwrkId#
				, ntwrk_ip = #ntwrkIp#
				, gtwy = #gtwy#
				, subnet = #subnet#
				, domn_nm_server = #domnNmServer#
				, manage_iem = #manageIem#
				, user_nm = #userNm#
				, use_at = #useAt#
				, rgsde = #rgsde#
				, frst_register_id = #frstRegisterId#
				, frst_regist_pnttm = #frstRegistPnttm#
				, last_updusr_id = #lastUpdusrId#
				, last_updt_pnttm = #lastUpdtPnttm#
			WHERE ntwrk_id = #ntwrkId#
		]]>
	</update>
	
	<delete id="comtnntwrkinfoDAO.deleteComtnntwrkinfo_S">
		<![CDATA[
			DELETE FROM comtnntwrkinfo 
			WHERE ntwrk_id = #ntwrkId#
		]]>
	</delete>
	
	<select id="comtnntwrkinfoDAO.selectComtnntwrkinfo_S" resultMap="comtnntwrkinfo">
		<![CDATA[
			SELECT
				ntwrk_id
				, ntwrk_ip
				, gtwy
				, subnet
				, domn_nm_server
				, manage_iem
				, user_nm
				, use_at
				, rgsde
				, frst_register_id
				, frst_regist_pnttm
				, last_updusr_id
				, last_updt_pnttm
			FROM comtnntwrkinfo
			WHERE ntwrk_id = #ntwrkId#
		]]>
	</select>
	
	<select id="comtnntwrkinfoDAO.selectComtnntwrkinfoList_D" parameterClass="ComtnntwrkinfoVO" resultClass="egovMap">
			SELECT
								ntwrk_id
								, ntwrk_ip
								, gtwy
								, subnet
								, domn_nm_server
								, manage_iem
								, user_nm
								, use_at
								, rgsde
								, frst_register_id
								, frst_regist_pnttm
								, last_updusr_id
								, last_updt_pnttm
					FROM comtnntwrkinfo
			WHERE 1=1
			<isEqual prepend="AND" property="searchCondition" compareValue="0">
				ntwrk_id = #searchKeyword#
			</isEqual>
			<isEqual prepend="AND" property="searchCondition" compareValue="1">
				ntwrk_ip LIKE CONCAT('%',#searchKeyword#,'%')
			</isEqual>
				ORDER BY 
							ntwrk_id DESC
					limit #firstIndex#, #recordCountPerPage#	
	</select>

	<select id="comtnntwrkinfoDAO.selectComtnntwrkinfoListTotCnt_S" parameterClass="ComtnntwrkinfoVO" resultClass="int">
			SELECT COUNT(*) totcnt
			FROM comtnntwrkinfo
			WHERE 1=1
			<isEqual prepend="AND" property="searchCondition" compareValue="0">
				ntwrk_id = #searchKeyword#
			</isEqual>
			<isEqual prepend="AND" property="searchCondition" compareValue="1">
				ntwrk_ip LIKE CONCAT('%',#searchKeyword#,'%')
			</isEqual>
	</select>

</sqlMap>
