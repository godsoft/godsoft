<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//iBATIS.com//DTD SQL Map 2.0//EN" "http://www.ibatis.com/dtd/sql-map-2.dtd">

<!--
author 이백행
since 2013-01-13
-->

<sqlMap namespace="Comtccmmncode">

    <typeAlias alias="egovMap" type="egovframework.rte.psl.dataaccess.util.EgovMap"/>
    <typeAlias alias="comtccmmncodeSerarchVO" type="egovframework.codegen.comtccmmncode.service.ComtccmmncodeDefaultVO"/>

    <resultMap id="comtccmmncode" class="egovframework.codegen.comtccmmncode.service.ComtccmmncodeVO">
        <result property="codeId" column="code_id" columnIndex="1"/>
        <result property="codeIdNm" column="code_id_nm" columnIndex="2"/>
        <result property="codeIdDc" column="code_id_dc" columnIndex="3"/>
        <result property="useAt" column="use_at" columnIndex="4"/>
        <result property="clCode" column="cl_code" columnIndex="5"/>
        <result property="frstRegistPnttm" column="frst_regist_pnttm" columnIndex="6"/>
        <result property="frstRegisterId" column="frst_register_id" columnIndex="7"/>
        <result property="lastUpdtPnttm" column="last_updt_pnttm" columnIndex="8"/>
        <result property="lastUpdusrId" column="last_updusr_id" columnIndex="9"/>
    </resultMap>

    <insert id="comtccmmncodeDAO.insertComtccmmncode_S">
        <![CDATA[
            INSERT INTO comtccmmncode
                ( code_id
                  , code_id_nm
                  , code_id_dc
                  , use_at
                  , cl_code
                  , frst_regist_pnttm
                  , frst_register_id
                  , last_updt_pnttm
                  , last_updusr_id )
            VALUES ( #codeId#
                  , #codeIdNm#
                  , #codeIdDc#
                  , #useAt#
                  , #clCode#
                  , #frstRegistPnttm#
                  , #frstRegisterId#
                  , #lastUpdtPnttm#
                  , #lastUpdusrId# )
        ]]>
    </insert>

    <update id="comtccmmncodeDAO.updateComtccmmncode_S">
        <![CDATA[
            UPDATE comtccmmncode
            SET code_id = #codeId#
                , code_id_nm = #codeIdNm#
                , code_id_dc = #codeIdDc#
                , use_at = #useAt#
                , cl_code = #clCode#
                , frst_regist_pnttm = SYSDATE
                , frst_register_id = #frstRegisterId#
                , last_updt_pnttm = SYSDATE
                , last_updusr_id = #lastUpdusrId#
            WHERE code_id = #codeId#
        ]]>
    </update>

    <delete id="comtccmmncodeDAO.deleteComtccmmncode_S">
        <![CDATA[
            DELETE FROM comtccmmncode
            WHERE code_id = #codeId#
        ]]>
    </delete>

    <select id="comtccmmncodeDAO.selectComtccmmncode_S" resultMap="comtccmmncode">
        <![CDATA[
            SELECT
                code_id
                , code_id_nm /* ${attribute.columnComments} */
                , code_id_dc /* ${attribute.columnComments} */
                , use_at /* ${attribute.columnComments} */
                , cl_code /* ${attribute.columnComments} */
                , frst_regist_pnttm /* ${attribute.columnComments} */
                , frst_register_id /* ${attribute.columnComments} */
                , last_updt_pnttm /* ${attribute.columnComments} */
                , last_updusr_id /* ${attribute.columnComments} */
            FROM comtccmmncode
            WHERE code_id = #codeId#
        ]]>
    </select>

    <select id="comtccmmncodeDAO.selectComtccmmncodeList_D" parameterClass="comtccmmncodeSerarchVO" resultClass="egovMap">
           SELECT
               A.code_id
               , A.code_id_nm
               , A.code_id_dc
               , A.use_at
               , A.cl_code
               , A.frst_regist_pnttm
               , A.frst_register_id
               , A.last_updt_pnttm
               , A.last_updusr_id
           FROM (
               SELECT
                   code_id
                   , code_id_nm
                   , code_id_dc
                   , use_at
                   , cl_code
                   , frst_regist_pnttm
                   , frst_register_id
                   , last_updt_pnttm
                   , last_updusr_id
                   , ROWNUM
               FROM comtccmmncode
               WHERE 1 = 1
               ORDER BY
                code_id DESC
            ) A
            WHERE ROWNUM BETWEEN #firstIndex# AND #recordCountPerPage#
    </select>

    <select id="comtccmmncodeDAO.selectComtccmmncodeListTotCnt_S" parameterClass="comtccmmncodeSerarchVO" resultClass="int">
        SELECT COUNT(*) totcnt
        FROM comtccmmncode
        WHERE 1 = 1
    </select>

</sqlMap>
