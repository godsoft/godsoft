<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//iBATIS.com//DTD SQL Map 2.0//EN" "http://www.ibatis.com/dtd/sql-map-2.dtd">

<!--
author 이백행
since 2013-01-09
-->

<sqlMap namespace="Comtccmmndetailcode">

    <typeAlias alias="egovMap" type="egovframework.rte.psl.dataaccess.util.EgovMap"/>
    <typeAlias alias="comtccmmndetailcodeSerarchVO" type="egovframework.codegen.comtccmmndetailcode.service.ComtccmmndetailcodeDefaultVO"/>

    <resultMap id="comtccmmndetailcode" class="egovframework.codegen.comtccmmndetailcode.service.ComtccmmndetailcodeVO">
        <result property="codeId" column="code_id" columnIndex="1"/>
        <result property="code" column="code" columnIndex="2"/>
        <result property="codeNm" column="code_nm" columnIndex="3"/>
        <result property="codeDc" column="code_dc" columnIndex="4"/>
        <result property="useAt" column="use_at" columnIndex="5"/>
        <result property="frstRegistPnttm" column="frst_regist_pnttm" columnIndex="6"/>
        <result property="frstRegisterId" column="frst_register_id" columnIndex="7"/>
        <result property="lastUpdtPnttm" column="last_updt_pnttm" columnIndex="8"/>
        <result property="lastUpdusrId" column="last_updusr_id" columnIndex="9"/>
    </resultMap>

    <insert id="comtccmmndetailcodeDAO.insertComtccmmndetailcode_S">
        <![CDATA[
            INSERT INTO comtccmmndetailcode
                ( code_id
                  , code
                  , code_nm
                  , code_dc
                  , use_at
                  , frst_regist_pnttm
                  , frst_register_id
                  , last_updt_pnttm
                  , last_updusr_id )
            VALUES ( #codeId#
                  , #code#
                  , #codeNm#
                  , #codeDc#
                  , #useAt#
                  , #frstRegistPnttm#
                  , #frstRegisterId#
                  , #lastUpdtPnttm#
                  , #lastUpdusrId# )
        ]]>
    </insert>

    <update id="comtccmmndetailcodeDAO.updateComtccmmndetailcode_S">
        <![CDATA[
            UPDATE comtccmmndetailcode
            SET code_id = #codeId#
                , code = #code#
                , code_nm = #codeNm#
                , code_dc = #codeDc#
                , use_at = #useAt#
                , frst_regist_pnttm = #frstRegistPnttm#
                , frst_register_id = #frstRegisterId#
                , last_updt_pnttm = #lastUpdtPnttm#
                , last_updusr_id = #lastUpdusrId#
            WHERE code_id = #codeId#
                AND code = #code#
        ]]>
    </update>

    <delete id="comtccmmndetailcodeDAO.deleteComtccmmndetailcode_S">
        <![CDATA[
            DELETE FROM comtccmmndetailcode
            WHERE code_id = #codeId#
                AND code = #code#
        ]]>
    </delete>

    <select id="comtccmmndetailcodeDAO.selectComtccmmndetailcode_S" resultMap="comtccmmndetailcode">
        <![CDATA[
            SELECT
                code_id
                , code /* ${attribute.columnComments} */
                , code_nm /* ${attribute.columnComments} */
                , code_dc /* ${attribute.columnComments} */
                , use_at /* ${attribute.columnComments} */
                , frst_regist_pnttm /* ${attribute.columnComments} */
                , frst_register_id /* ${attribute.columnComments} */
                , last_updt_pnttm /* ${attribute.columnComments} */
                , last_updusr_id /* ${attribute.columnComments} */
            FROM comtccmmndetailcode
            WHERE code_id = #codeId#
                AND code = #code#
        ]]>
    </select>

    <select id="comtccmmndetailcodeDAO.selectComtccmmndetailcodeList_D" parameterClass="comtccmmndetailcodeSerarchVO" resultClass="egovMap">
           SELECT
               A.code_id
               , A.code
               , A.code_nm
               , A.code_dc
               , A.use_at
               , A.frst_regist_pnttm
               , A.frst_register_id
               , A.last_updt_pnttm
               , A.last_updusr_id
           FROM (
               SELECT
                   code_id
                   , code
                   , code_nm
                   , code_dc
                   , use_at
                   , frst_regist_pnttm
                   , frst_register_id
                   , last_updt_pnttm
                   , last_updusr_id
                   , ROWNUM
               FROM comtccmmndetailcode
               WHERE 1 = 1
               ORDER BY
                code_id DESC
                , code DESC
            ) A
            WHERE ROWNUM BETWEEN #firstIndex# AND #recordCountPerPage#
    </select>

    <select id="comtccmmndetailcodeDAO.selectComtccmmndetailcodeListTotCnt_S" parameterClass="comtccmmndetailcodeSerarchVO" resultClass="int">
        SELECT COUNT(*) totcnt
        FROM comtccmmndetailcode
        WHERE 1 = 1
    </select>

</sqlMap>
