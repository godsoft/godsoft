<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//iBATIS.com//DTD SQL Map 2.0//EN" "http://www.ibatis.com/dtd/sql-map-2.dtd">

<!--
author 이백행
since 2013-01-09
-->

<sqlMap namespace="Comtnsyslog">

    <typeAlias alias="egovMap" type="egovframework.rte.psl.dataaccess.util.EgovMap"/>
    <typeAlias alias="comtnsyslogSerarchVO" type="egovframework.codegen.comtnsyslog.service.ComtnsyslogDefaultVO"/>

    <resultMap id="comtnsyslog" class="egovframework.codegen.comtnsyslog.service.ComtnsyslogVO">
        <result property="requstId" column="requst_id" columnIndex="1"/>
        <result property="jobSeCode" column="job_se_code" columnIndex="2"/>
        <result property="insttCode" column="instt_code" columnIndex="3"/>
        <result property="occrrncDe" column="occrrnc_de" columnIndex="4"/>
        <result property="rqesterIp" column="rqester_ip" columnIndex="5"/>
        <result property="rqesterId" column="rqester_id" columnIndex="6"/>
        <result property="trgetMenuNm" column="trget_menu_nm" columnIndex="7"/>
        <result property="svcNm" column="svc_nm" columnIndex="8"/>
        <result property="methodNm" column="method_nm" columnIndex="9"/>
        <result property="processSeCode" column="process_se_code" columnIndex="10"/>
        <result property="processCo" column="process_co" columnIndex="11"/>
        <result property="processTime" column="process_time" columnIndex="12"/>
        <result property="rspnsCode" column="rspns_code" columnIndex="13"/>
        <result property="errorSe" column="error_se" columnIndex="14"/>
        <result property="errorCo" column="error_co" columnIndex="15"/>
        <result property="errorCode" column="error_code" columnIndex="16"/>
    </resultMap>

    <insert id="comtnsyslogDAO.insertComtnsyslog_S">
        <![CDATA[
            INSERT INTO comtnsyslog
                ( requst_id
                  , job_se_code
                  , instt_code
                  , occrrnc_de
                  , rqester_ip
                  , rqester_id
                  , trget_menu_nm
                  , svc_nm
                  , method_nm
                  , process_se_code
                  , process_co
                  , process_time
                  , rspns_code
                  , error_se
                  , error_co
                  , error_code )
            VALUES ( #requstId#
                  , #jobSeCode#
                  , #insttCode#
                  , #occrrncDe#
                  , #rqesterIp#
                  , #rqesterId#
                  , #trgetMenuNm#
                  , #svcNm#
                  , #methodNm#
                  , #processSeCode#
                  , #processCo#
                  , #processTime#
                  , #rspnsCode#
                  , #errorSe#
                  , #errorCo#
                  , #errorCode# )
        ]]>
    </insert>

    <update id="comtnsyslogDAO.updateComtnsyslog_S">
        <![CDATA[
            UPDATE comtnsyslog
            SET requst_id = #requstId#
                , job_se_code = #jobSeCode#
                , instt_code = #insttCode#
                , occrrnc_de = #occrrncDe#
                , rqester_ip = #rqesterIp#
                , rqester_id = #rqesterId#
                , trget_menu_nm = #trgetMenuNm#
                , svc_nm = #svcNm#
                , method_nm = #methodNm#
                , process_se_code = #processSeCode#
                , process_co = #processCo#
                , process_time = #processTime#
                , rspns_code = #rspnsCode#
                , error_se = #errorSe#
                , error_co = #errorCo#
                , error_code = #errorCode#
            WHERE requst_id = #requstId#
        ]]>
    </update>

    <delete id="comtnsyslogDAO.deleteComtnsyslog_S">
        <![CDATA[
            DELETE FROM comtnsyslog
            WHERE requst_id = #requstId#
        ]]>
    </delete>

    <select id="comtnsyslogDAO.selectComtnsyslog_S" resultMap="comtnsyslog">
        <![CDATA[
            SELECT
                requst_id
                , job_se_code /* ${attribute.columnComments} */
                , instt_code /* ${attribute.columnComments} */
                , occrrnc_de /* ${attribute.columnComments} */
                , rqester_ip /* ${attribute.columnComments} */
                , rqester_id /* ${attribute.columnComments} */
                , trget_menu_nm /* ${attribute.columnComments} */
                , svc_nm /* ${attribute.columnComments} */
                , method_nm /* ${attribute.columnComments} */
                , process_se_code /* ${attribute.columnComments} */
                , process_co /* ${attribute.columnComments} */
                , process_time /* ${attribute.columnComments} */
                , rspns_code /* ${attribute.columnComments} */
                , error_se /* ${attribute.columnComments} */
                , error_co /* ${attribute.columnComments} */
                , error_code /* ${attribute.columnComments} */
            FROM comtnsyslog
            WHERE requst_id = #requstId#
        ]]>
    </select>

    <select id="comtnsyslogDAO.selectComtnsyslogList_D" parameterClass="comtnsyslogSerarchVO" resultClass="egovMap">
           SELECT
               A.requst_id
               , A.job_se_code
               , A.instt_code
               , A.occrrnc_de
               , A.rqester_ip
               , A.rqester_id
               , A.trget_menu_nm
               , A.svc_nm
               , A.method_nm
               , A.process_se_code
               , A.process_co
               , A.process_time
               , A.rspns_code
               , A.error_se
               , A.error_co
               , A.error_code
           FROM (
               SELECT
                   requst_id
                   , job_se_code
                   , instt_code
                   , occrrnc_de
                   , rqester_ip
                   , rqester_id
                   , trget_menu_nm
                   , svc_nm
                   , method_nm
                   , process_se_code
                   , process_co
                   , process_time
                   , rspns_code
                   , error_se
                   , error_co
                   , error_code
                   , ROWNUM
               FROM comtnsyslog
               WHERE 1 = 1
               ORDER BY
                requst_id DESC
            ) A
            WHERE ROWNUM BETWEEN #firstIndex# AND #recordCountPerPage#
    </select>

    <select id="comtnsyslogDAO.selectComtnsyslogListTotCnt_S" parameterClass="comtnsyslogSerarchVO" resultClass="int">
        SELECT COUNT(*) totcnt
        FROM comtnsyslog
        WHERE 1 = 1
    </select>

</sqlMap>
